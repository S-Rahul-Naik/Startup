{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\23rah\\\\OneDrive\\\\Desktop\\\\HUB\\\\startup\\\\client\\\\src\\\\pages\\\\ProjectsPage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useSearchParams, useNavigate } from 'react-router-dom';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { MagnifyingGlassIcon, FunnelIcon, AdjustmentsHorizontalIcon, StarIcon, EyeIcon, ShoppingCartIcon, HeartIcon } from '@heroicons/react/24/outline';\nimport { StarIcon as StarIconSolid } from '@heroicons/react/24/solid';\nimport { useCart } from '../contexts/CartContext';\nimport toast from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProjectsPage = () => {\n  _s();\n  const [searchParams, setSearchParams] = useSearchParams();\n  const navigate = useNavigate();\n  const [projects, setProjects] = useState([]);\n  const [filteredProjects, setFilteredProjects] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedCategory, setSelectedCategory] = useState('');\n  const [selectedDomain, setSelectedDomain] = useState('');\n  const [priceRange, setPriceRange] = useState([0, 100000]);\n  const [sortBy, setSortBy] = useState('newest');\n  const [showFilters, setShowFilters] = useState(false);\n  const {\n    addToCart,\n    isInCart\n  } = useCart();\n\n  // Fetch projects from API\n  const fetchProjects = async () => {\n    try {\n      setIsLoading(true);\n      console.log('Fetching projects from API...');\n      const response = await fetch('http://localhost:5001/api/projects?t=' + Date.now());\n      console.log('API Response status:', response.status);\n      if (response.ok) {\n        var _data$projects;\n        const data = await response.json();\n        console.log('Projects data received:', data);\n        console.log('First project structure:', (_data$projects = data.projects) === null || _data$projects === void 0 ? void 0 : _data$projects[0]);\n        setProjects(data.projects || []);\n        setFilteredProjects(data.projects || []);\n      } else {\n        console.error('Failed to fetch projects, status:', response.status);\n        const errorText = await response.text();\n        console.error('Error response:', errorText);\n        // Fallback to empty array\n        setProjects([]);\n        setFilteredProjects([]);\n      }\n    } catch (error) {\n      console.error('Error fetching projects:', error);\n      // Fallback to empty array\n      setProjects([]);\n      setFilteredProjects([]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Fetch projects when component mounts\n  useEffect(() => {\n    fetchProjects();\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n  }, []);\n  const categories = ['All Categories', 'Electronics & Communication', 'Electrical Engineering', 'Mechanical Engineering', 'Computer Science', 'AI/ML', 'Data Science'];\n  const domains = ['All Domains', 'Computer Science', 'Machine Learning', 'IoT', 'Electronics & Communication', 'Data Science', 'Electrical Engineering', 'Others'];\n\n  // Apply filters and search\n  useEffect(() => {\n    let filtered = [...projects];\n\n    // Apply search filter\n    if (searchTerm) {\n      filtered = filtered.filter(project => project.title.toLowerCase().includes(searchTerm.toLowerCase()) || project.description.toLowerCase().includes(searchTerm.toLowerCase()) || (typeof project.category === 'object' ? project.category.name : project.category || '').toLowerCase().includes(searchTerm.toLowerCase()));\n    }\n\n    // Apply category filter\n    if (selectedCategory && selectedCategory !== 'All Categories') {\n      filtered = filtered.filter(project => {\n        const categoryName = typeof project.category === 'object' ? project.category.name : project.category;\n        return categoryName === selectedCategory;\n      });\n    }\n\n    // Apply domain filter\n    if (selectedDomain && selectedDomain !== 'All Domains') {\n      filtered = filtered.filter(project => (project.domain || 'Not specified') === selectedDomain);\n    }\n\n    // Apply price range filter\n    filtered = filtered.filter(project => project.price >= priceRange[0] && project.price <= priceRange[1]);\n\n    // Apply sorting\n    switch (sortBy) {\n      case 'price-low':\n        filtered.sort((a, b) => a.price - b.price);\n        break;\n      case 'price-high':\n        filtered.sort((a, b) => b.price - a.price);\n        break;\n      case 'rating':\n        filtered.sort((a, b) => {\n          const ratingA = typeof a.rating === 'object' ? a.rating.average || 0 : a.rating || 0;\n          const ratingB = typeof b.rating === 'object' ? b.rating.average || 0 : b.rating || 0;\n          return ratingB - ratingA;\n        });\n        break;\n      case 'popularity':\n        filtered.sort((a, b) => (b.views || 0) - (a.views || 0));\n        break;\n      case 'newest':\n      default:\n        filtered.sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime());\n        break;\n    }\n    setFilteredProjects(filtered);\n  }, [projects, searchTerm, selectedCategory, selectedDomain, priceRange, sortBy]);\n\n  // Update URL params when filters change\n  useEffect(() => {\n    const params = new URLSearchParams();\n    if (searchTerm) params.set('search', searchTerm);\n    if (selectedCategory && selectedCategory !== 'All Categories') params.set('category', selectedCategory);\n    if (selectedDomain && selectedDomain !== 'All Domains') params.set('domain', selectedDomain);\n    if (sortBy !== 'newest') params.set('sort', sortBy);\n    setSearchParams(params);\n  }, [searchTerm, selectedCategory, selectedDomain, sortBy, setSearchParams]);\n\n  // Load filters from URL on mount\n  useEffect(() => {\n    const search = searchParams.get('search');\n    const category = searchParams.get('category');\n    const domain = searchParams.get('domain');\n    const sort = searchParams.get('sort');\n    if (search) setSearchTerm(search);\n    if (category) setSelectedCategory(category);\n    if (domain) setSelectedDomain(domain);\n    if (sort) setSortBy(sort);\n  }, [searchParams]);\n  const handleAddToCart = project => {\n    var _project$images;\n    addToCart({\n      _id: project._id,\n      title: project.title,\n      price: project.price,\n      originalPrice: project.originalPrice,\n      discount: project.discount,\n      image: ((_project$images = project.images) === null || _project$images === void 0 ? void 0 : _project$images[0]) || '',\n      domain: project.domain || 'Not specified',\n      category: typeof project.category === 'object' ? project.category.name : project.category || 'General'\n    });\n    toast.success(`${project.title} added to cart!`);\n  };\n  const formatPrice = price => {\n    return new Intl.NumberFormat('en-IN', {\n      style: 'currency',\n      currency: 'INR',\n      minimumFractionDigits: 0\n    }).format(price);\n  };\n  const renderStars = rating => {\n    const stars = [];\n    const fullStars = Math.floor(rating);\n    const hasHalfStar = rating % 1 !== 0;\n    for (let i = 0; i < fullStars; i++) {\n      stars.push(/*#__PURE__*/_jsxDEV(StarIconSolid, {\n        className: \"w-4 h-4 text-yellow-400\"\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 18\n      }, this));\n    }\n    if (hasHalfStar) {\n      stars.push(/*#__PURE__*/_jsxDEV(StarIconSolid, {\n        className: \"w-4 h-4 text-yellow-400\"\n      }, \"half\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 18\n      }, this));\n    }\n    const emptyStars = 5 - Math.ceil(rating);\n    for (let i = 0; i < emptyStars; i++) {\n      stars.push(/*#__PURE__*/_jsxDEV(StarIcon, {\n        className: \"w-4 h-4 text-gray-300\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 18\n      }, this));\n    }\n    return stars;\n  };\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50 py-8\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-4xl font-bold text-gray-900 mb-4\",\n          children: \"Explore Academic Projects\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xl text-gray-600 max-w-3xl mx-auto\",\n          children: \"Discover cutting-edge projects across various engineering domains. From embedded systems to machine learning, find the perfect project for your academic journey.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-soft p-6 mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col lg:flex-row gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(MagnifyingGlassIcon, {\n                className: \"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"Search projects...\",\n                value: searchTerm,\n                onChange: e => setSearchTerm(e.target.value),\n                className: \"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowFilters(!showFilters),\n            className: \"lg:hidden flex items-center justify-center px-4 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors\",\n            children: [/*#__PURE__*/_jsxDEV(FunnelIcon, {\n              className: \"w-5 h-5 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 15\n            }, this), \"Filters\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: sortBy,\n            onChange: e => setSortBy(e.target.value),\n            className: \"px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"newest\",\n              children: \"Newest First\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"price-low\",\n              children: \"Price: Low to High\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"price-high\",\n              children: \"Price: High to Low\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"rating\",\n              children: \"Highest Rated\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"popularity\",\n              children: \"Most Popular\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(AnimatePresence, {\n          children: showFilters && /*#__PURE__*/_jsxDEV(motion.div, {\n            initial: {\n              opacity: 0,\n              height: 0\n            },\n            animate: {\n              opacity: 1,\n              height: 'auto'\n            },\n            exit: {\n              opacity: 0,\n              height: 0\n            },\n            transition: {\n              duration: 0.3\n            },\n            className: \"mt-6 pt-6 border-t border-gray-200\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-3 gap-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700 mb-2\",\n                  children: \"Category\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 329,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: selectedCategory,\n                  onChange: e => setSelectedCategory(e.target.value),\n                  className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent\",\n                  children: categories.map(category => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: category,\n                    children: category\n                  }, category, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 338,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 332,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700 mb-2\",\n                  children: \"Domain\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 347,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: selectedDomain,\n                  onChange: e => setSelectedDomain(e.target.value),\n                  className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent\",\n                  children: domains.map(domain => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: domain,\n                    children: domain\n                  }, domain, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 356,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 350,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700 mb-2\",\n                  children: [\"Price Range: \\u20B9\", priceRange[0], \" - \\u20B9\", priceRange[1]]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 365,\n                  columnNumber: 42\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"range\",\n                    min: \"0\",\n                    max: \"100000\",\n                    step: \"1000\",\n                    value: priceRange[0],\n                    onChange: e => setPriceRange([parseInt(e.target.value), priceRange[1]]),\n                    className: \"flex-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 369,\n                    columnNumber: 24\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"range\",\n                    min: \"0\",\n                    max: \"100000\",\n                    step: \"1000\",\n                    value: priceRange[1],\n                    onChange: e => setPriceRange([priceRange[0], parseInt(e.target.value)]),\n                    className: \"flex-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 378,\n                    columnNumber: 24\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 368,\n                  columnNumber: 22\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: [\"Showing \", filteredProjects.length, \" of \", projects.length, \" projects\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowFilters(!showFilters),\n          className: \"hidden lg:flex items-center text-gray-600 hover:text-primary-600 transition-colors\",\n          children: [/*#__PURE__*/_jsxDEV(AdjustmentsHorizontalIcon, {\n            className: \"w-5 h-5 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 13\n          }, this), showFilters ? 'Hide' : 'Show', \" Filters\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 9\n      }, this), filteredProjects.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-24 h-24 mx-auto mb-4 text-gray-300\",\n          children: /*#__PURE__*/_jsxDEV(MagnifyingGlassIcon, {\n            className: \"w-full h-full\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium text-gray-900 mb-2\",\n          children: \"No projects found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Try adjusting your search criteria or filters.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",\n        children: filteredProjects.map((project, index) => /*#__PURE__*/_jsxDEV(motion.div, {\n          initial: {\n            opacity: 0,\n            y: 20\n          },\n          animate: {\n            opacity: 1,\n            y: 0\n          },\n          transition: {\n            duration: 0.3,\n            delay: index * 0.1\n          },\n          className: \"bg-white rounded-lg shadow-soft overflow-hidden hover:shadow-large transition-shadow duration-300\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative h-48 bg-gray-200\",\n            children: [(_project$files => {\n              // Debug: Log project data\n              console.log('Project:', project.title, 'Files:', project.files);\n\n              // Check for uploaded image files first\n              const imageFiles = (_project$files = project.files) === null || _project$files === void 0 ? void 0 : _project$files.filter(file => {\n                var _file$mimetype, _file$originalname;\n                return ((_file$mimetype = file.mimetype) === null || _file$mimetype === void 0 ? void 0 : _file$mimetype.startsWith('image/')) || ((_file$originalname = file.originalname) === null || _file$originalname === void 0 ? void 0 : _file$originalname.match(/\\.(jpg|jpeg|png|gif|webp)$/i));\n              });\n              console.log('Image files found:', imageFiles);\n              if (imageFiles && imageFiles.length > 0) {\n                return /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: `http://localhost:5001/api/projects/files/${imageFiles[0].filename}`,\n                  alt: project.title,\n                  className: \"w-full h-full object-cover\",\n                  onError: e => {\n                    var _e$currentTarget$next;\n                    // Fallback to placeholder if image fails to load\n                    e.currentTarget.style.display = 'none';\n                    (_e$currentTarget$next = e.currentTarget.nextElementSibling) === null || _e$currentTarget$next === void 0 ? void 0 : _e$currentTarget$next.classList.remove('hidden');\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 444,\n                  columnNumber: 25\n                }, this);\n              } else if (project.images && project.images.length > 0) {\n                return /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: project.images[0],\n                  alt: project.title,\n                  className: \"w-full h-full object-cover\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 457,\n                  columnNumber: 25\n                }, this);\n              } else {\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-full h-full flex flex-col items-center justify-center text-gray-400 bg-gradient-to-br from-gray-100 to-gray-200\",\n                  children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                    className: \"w-16 h-16 mb-2 text-gray-300\",\n                    fill: \"none\",\n                    stroke: \"currentColor\",\n                    viewBox: \"0 0 24 24\",\n                    children: /*#__PURE__*/_jsxDEV(\"path\", {\n                      strokeLinecap: \"round\",\n                      strokeLinejoin: \"round\",\n                      strokeWidth: 1,\n                      d: \"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 467,\n                      columnNumber: 30\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 466,\n                    columnNumber: 28\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm font-medium\",\n                    children: \"No Image\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 469,\n                    columnNumber: 28\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-xs text-gray-400\",\n                    children: \"Upload an image\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 470,\n                    columnNumber: 28\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 465,\n                  columnNumber: 26\n                }, this);\n              }\n            })(), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full h-full flex flex-col items-center justify-center text-gray-400 bg-gradient-to-br from-gray-100 to-gray-200 hidden\",\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"w-16 h-16 mb-2 text-gray-300\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                viewBox: \"0 0 24 24\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 1,\n                  d: \"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 478,\n                  columnNumber: 24\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 477,\n                columnNumber: 22\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm font-medium\",\n                children: \"No Image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 480,\n                columnNumber: 22\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xs text-gray-400\",\n                children: \"Upload an image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 481,\n                columnNumber: 22\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 476,\n              columnNumber: 20\n            }, this), project.discount && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute top-2 left-2 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded\",\n              children: [\"-\", project.discount, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 484,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"absolute top-2 right-2 p-2 bg-white rounded-full shadow-md hover:bg-gray-50 transition-colors\",\n              children: /*#__PURE__*/_jsxDEV(HeartIcon, {\n                className: \"w-5 h-5 text-gray-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 489,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 488,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 429,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xs font-medium text-primary-600 bg-primary-50 px-2 py-1 rounded\",\n                children: typeof project.category === 'object' ? project.category.name : project.category || 'General'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 497,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xs text-gray-500\",\n                children: project.domain || 'Not specified'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 500,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 496,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-gray-900 mb-2 line-clamp-2\",\n              children: project.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 504,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600 text-sm mb-4 line-clamp-2\",\n              children: project.shortDescription || project.description.substring(0, 100) + '...'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 509,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex mr-2\",\n                  children: renderStars(typeof project.rating === 'object' ? project.rating.average || 4.5 : project.rating || 4.5)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 516,\n                  columnNumber: 24\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm text-gray-600\",\n                  children: [typeof project.rating === 'object' ? project.rating.average || 4.5 : project.rating || 4.5, \" (\", typeof project.rating === 'object' ? project.rating.count || 0 : project.reviewCount || 0, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 519,\n                  columnNumber: 24\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 515,\n                columnNumber: 22\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center text-sm text-gray-500\",\n                children: [/*#__PURE__*/_jsxDEV(EyeIcon, {\n                  className: \"w-4 h-4 mr-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 524,\n                  columnNumber: 24\n                }, this), project.views || 0]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 523,\n                columnNumber: 22\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 514,\n              columnNumber: 20\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-2xl font-bold text-gray-900\",\n                  children: formatPrice(project.price)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 532,\n                  columnNumber: 23\n                }, this), project.originalPrice && project.originalPrice > project.price && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm text-gray-500 line-through ml-2\",\n                  children: formatPrice(project.originalPrice)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 536,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 531,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-gray-500\",\n                children: [project.orders || 0, \" orders\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 541,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 530,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleAddToCart(project),\n                disabled: isInCart(project._id),\n                className: `flex-1 flex items-center justify-center px-4 py-2 rounded-lg font-medium transition-colors ${isInCart(project._id) ? 'bg-green-100 text-green-700 cursor-not-allowed' : 'bg-primary-600 hover:bg-primary-700 text-white'}`,\n                children: [/*#__PURE__*/_jsxDEV(ShoppingCartIcon, {\n                  className: \"w-4 h-4 mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 557,\n                  columnNumber: 23\n                }, this), isInCart(project._id) ? 'In Cart' : 'Add to Cart']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 548,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => navigate(`/projects/${project._id}`),\n                className: \"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors\",\n                children: \"View Details\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 560,\n                columnNumber: 42\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 547,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 494,\n            columnNumber: 17\n          }, this)]\n        }, project._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 263,\n    columnNumber: 5\n  }, this);\n};\n_s(ProjectsPage, \"xu9MxK80jyxxQIyNGx4Vs06qgOQ=\", false, function () {\n  return [useSearchParams, useNavigate, useCart];\n});\n_c = ProjectsPage;\nexport default ProjectsPage;\nvar _c;\n$RefreshReg$(_c, \"ProjectsPage\");","map":{"version":3,"names":["React","useState","useEffect","useSearchParams","useNavigate","motion","AnimatePresence","MagnifyingGlassIcon","FunnelIcon","AdjustmentsHorizontalIcon","StarIcon","EyeIcon","ShoppingCartIcon","HeartIcon","StarIconSolid","useCart","toast","jsxDEV","_jsxDEV","ProjectsPage","_s","searchParams","setSearchParams","navigate","projects","setProjects","filteredProjects","setFilteredProjects","isLoading","setIsLoading","searchTerm","setSearchTerm","selectedCategory","setSelectedCategory","selectedDomain","setSelectedDomain","priceRange","setPriceRange","sortBy","setSortBy","showFilters","setShowFilters","addToCart","isInCart","fetchProjects","console","log","response","fetch","Date","now","status","ok","_data$projects","data","json","error","errorText","text","window","scrollTo","top","behavior","categories","domains","filtered","filter","project","title","toLowerCase","includes","description","category","name","categoryName","domain","price","sort","a","b","ratingA","rating","average","ratingB","views","createdAt","getTime","params","URLSearchParams","set","search","get","handleAddToCart","_project$images","_id","originalPrice","discount","image","images","success","formatPrice","Intl","NumberFormat","style","currency","minimumFractionDigits","format","renderStars","stars","fullStars","Math","floor","hasHalfStar","i","push","className","fileName","_jsxFileName","lineNumber","columnNumber","emptyStars","ceil","children","type","placeholder","value","onChange","e","target","onClick","div","initial","opacity","height","animate","exit","transition","duration","map","min","max","step","parseInt","length","index","y","delay","_project$files","files","imageFiles","file","_file$mimetype","_file$originalname","mimetype","startsWith","originalname","match","src","filename","alt","onError","_e$currentTarget$next","currentTarget","display","nextElementSibling","classList","remove","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","shortDescription","substring","count","reviewCount","orders","disabled","_c","$RefreshReg$"],"sources":["C:/Users/23rah/OneDrive/Desktop/HUB/startup/client/src/pages/ProjectsPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useSearchParams, useNavigate } from 'react-router-dom';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { \r\n  MagnifyingGlassIcon, \r\n  FunnelIcon, \r\n  AdjustmentsHorizontalIcon,\r\n  StarIcon,\r\n  EyeIcon,\r\n  ShoppingCartIcon,\r\n  HeartIcon\r\n} from '@heroicons/react/24/outline';\r\nimport { StarIcon as StarIconSolid } from '@heroicons/react/24/solid';\r\nimport { useCart } from '../contexts/CartContext';\r\nimport toast from 'react-hot-toast';\r\n\r\ninterface Project {\r\n  _id: string;\r\n  title: string;\r\n  description: string;\r\n  shortDescription?: string;\r\n  category: any; // Can be string or ObjectId\r\n  domain?: string;\r\n  difficulty?: string;\r\n  price: number;\r\n  originalPrice?: number;\r\n  discount?: number;\r\n  rating?: number | { average: number; count: number };\r\n  reviewCount?: number;\r\n  views?: number;\r\n  orders?: number;\r\n  features?: string[];\r\n  requirements?: string[];\r\n  deliverables?: string[];\r\n  images?: string[];\r\n  files?: Array<{\r\n    filename: string;\r\n    originalname: string;\r\n    path: string;\r\n    mimetype: string;\r\n    size: number;\r\n  }>;\r\n  isPublished?: boolean;\r\n  isApproved?: boolean;\r\n  creator?: {\r\n    firstName: string;\r\n    lastName: string;\r\n    email: string;\r\n  };\r\n  createdAt: string;\r\n  updatedAt: string;\r\n}\r\n\r\nconst ProjectsPage: React.FC = () => {\r\n  const [searchParams, setSearchParams] = useSearchParams();\r\n  const navigate = useNavigate();\r\n  const [projects, setProjects] = useState<Project[]>([]);\r\n  const [filteredProjects, setFilteredProjects] = useState<Project[]>([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [selectedCategory, setSelectedCategory] = useState('');\r\n  const [selectedDomain, setSelectedDomain] = useState('');\r\n  const [priceRange, setPriceRange] = useState([0, 100000]);\r\n  const [sortBy, setSortBy] = useState('newest');\r\n  const [showFilters, setShowFilters] = useState(false);\r\n  const { addToCart, isInCart } = useCart();\r\n\r\n  // Fetch projects from API\r\n  const fetchProjects = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      console.log('Fetching projects from API...');\r\n  const response = await fetch('http://localhost:5001/api/projects?t=' + Date.now());\r\n      console.log('API Response status:', response.status);\r\n      \r\n             if (response.ok) {\r\n         const data = await response.json();\r\n         console.log('Projects data received:', data);\r\n         console.log('First project structure:', data.projects?.[0]);\r\n         setProjects(data.projects || []);\r\n         setFilteredProjects(data.projects || []);\r\n       } else {\r\n        console.error('Failed to fetch projects, status:', response.status);\r\n        const errorText = await response.text();\r\n        console.error('Error response:', errorText);\r\n        // Fallback to empty array\r\n        setProjects([]);\r\n        setFilteredProjects([]);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching projects:', error);\r\n      // Fallback to empty array\r\n      setProjects([]);\r\n      setFilteredProjects([]);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Fetch projects when component mounts\r\n  useEffect(() => {\r\n    fetchProjects();\r\n    window.scrollTo({ top: 0, behavior: 'smooth' });\r\n  }, []);\r\n\r\n  const categories = [\r\n    'All Categories',\r\n    'Electronics & Communication',\r\n    'Electrical Engineering',\r\n    'Mechanical Engineering',\r\n    'Computer Science',\r\n    'AI/ML',\r\n    'Data Science'\r\n  ];\r\n\r\n  const domains = [\r\n    'All Domains',\r\n    'Computer Science',\r\n    'Machine Learning',\r\n    'IoT',\r\n    'Electronics & Communication',\r\n    'Data Science',\r\n    'Electrical Engineering',\r\n    'Others'\r\n  ];\r\n\r\n\r\n\r\n  // Apply filters and search\r\n  useEffect(() => {\r\n    let filtered = [...projects];\r\n\r\n    // Apply search filter\r\n    if (searchTerm) {\r\n      filtered = filtered.filter(project =>\r\n        project.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        project.description.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        (typeof project.category === 'object' ? project.category.name : project.category || '').toLowerCase().includes(searchTerm.toLowerCase())\r\n      );\r\n    }\r\n\r\n    // Apply category filter\r\n    if (selectedCategory && selectedCategory !== 'All Categories') {\r\n      filtered = filtered.filter(project => {\r\n        const categoryName = typeof project.category === 'object' ? project.category.name : project.category;\r\n        return categoryName === selectedCategory;\r\n      });\r\n    }\r\n\r\n    // Apply domain filter\r\n    if (selectedDomain && selectedDomain !== 'All Domains') {\r\n      filtered = filtered.filter(project => (project.domain || 'Not specified') === selectedDomain);\r\n    }\r\n\r\n    // Apply price range filter\r\n    filtered = filtered.filter(project => \r\n      project.price >= priceRange[0] && project.price <= priceRange[1]\r\n    );\r\n\r\n    // Apply sorting\r\n    switch (sortBy) {\r\n      case 'price-low':\r\n        filtered.sort((a, b) => a.price - b.price);\r\n        break;\r\n      case 'price-high':\r\n        filtered.sort((a, b) => b.price - a.price);\r\n        break;\r\n      case 'rating':\r\n        filtered.sort((a, b) => {\r\n          const ratingA = typeof a.rating === 'object' ? a.rating.average || 0 : a.rating || 0;\r\n          const ratingB = typeof b.rating === 'object' ? b.rating.average || 0 : b.rating || 0;\r\n          return ratingB - ratingA;\r\n        });\r\n        break;\r\n      case 'popularity':\r\n        filtered.sort((a, b) => (b.views || 0) - (a.views || 0));\r\n        break;\r\n      case 'newest':\r\n      default:\r\n        filtered.sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime());\r\n        break;\r\n    }\r\n\r\n    setFilteredProjects(filtered);\r\n  }, [projects, searchTerm, selectedCategory, selectedDomain, priceRange, sortBy]);\r\n\r\n  // Update URL params when filters change\r\n  useEffect(() => {\r\n    const params = new URLSearchParams();\r\n    if (searchTerm) params.set('search', searchTerm);\r\n    if (selectedCategory && selectedCategory !== 'All Categories') params.set('category', selectedCategory);\r\n    if (selectedDomain && selectedDomain !== 'All Domains') params.set('domain', selectedDomain);\r\n    if (sortBy !== 'newest') params.set('sort', sortBy);\r\n    \r\n    setSearchParams(params);\r\n  }, [searchTerm, selectedCategory, selectedDomain, sortBy, setSearchParams]);\r\n\r\n  // Load filters from URL on mount\r\n  useEffect(() => {\r\n    const search = searchParams.get('search');\r\n    const category = searchParams.get('category');\r\n    const domain = searchParams.get('domain');\r\n    const sort = searchParams.get('sort');\r\n\r\n    if (search) setSearchTerm(search);\r\n    if (category) setSelectedCategory(category);\r\n    if (domain) setSelectedDomain(domain);\r\n    if (sort) setSortBy(sort);\r\n  }, [searchParams]);\r\n\r\n  const handleAddToCart = (project: Project) => {\r\n    addToCart({\r\n      _id: project._id,\r\n      title: project.title,\r\n      price: project.price,\r\n      originalPrice: project.originalPrice,\r\n      discount: project.discount,\r\n      image: project.images?.[0] || '',\r\n      domain: project.domain || 'Not specified',\r\n      category: typeof project.category === 'object' ? project.category.name : project.category || 'General'\r\n    });\r\n    toast.success(`${project.title} added to cart!`);\r\n  };\r\n\r\n  const formatPrice = (price: number) => {\r\n    return new Intl.NumberFormat('en-IN', {\r\n      style: 'currency',\r\n      currency: 'INR',\r\n      minimumFractionDigits: 0\r\n    }).format(price);\r\n  };\r\n\r\n  const renderStars = (rating: number) => {\r\n    const stars = [];\r\n    const fullStars = Math.floor(rating);\r\n    const hasHalfStar = rating % 1 !== 0;\r\n\r\n    for (let i = 0; i < fullStars; i++) {\r\n      stars.push(<StarIconSolid key={i} className=\"w-4 h-4 text-yellow-400\" />);\r\n    }\r\n\r\n    if (hasHalfStar) {\r\n      stars.push(<StarIconSolid key=\"half\" className=\"w-4 h-4 text-yellow-400\" />);\r\n    }\r\n\r\n    const emptyStars = 5 - Math.ceil(rating);\r\n    for (let i = 0; i < emptyStars; i++) {\r\n      stars.push(<StarIcon className=\"w-4 h-4 text-gray-300\" />);\r\n    }\r\n\r\n    return stars;\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 py-8\">\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        {/* Header */}\r\n        <div className=\"text-center mb-8\">\r\n          <h1 className=\"text-4xl font-bold text-gray-900 mb-4\">\r\n            Explore Academic Projects\r\n          </h1>\r\n          <p className=\"text-xl text-gray-600 max-w-3xl mx-auto\">\r\n            Discover cutting-edge projects across various engineering domains. \r\n            From embedded systems to machine learning, find the perfect project for your academic journey.\r\n          </p>\r\n        </div>\r\n\r\n        {/* Search and Filters */}\r\n        <div className=\"bg-white rounded-lg shadow-soft p-6 mb-8\">\r\n          <div className=\"flex flex-col lg:flex-row gap-4\">\r\n            {/* Search Bar */}\r\n            <div className=\"flex-1\">\r\n              <div className=\"relative\">\r\n                <MagnifyingGlassIcon className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400\" />\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Search projects...\"\r\n                  value={searchTerm}\r\n                  onChange={(e) => setSearchTerm(e.target.value)}\r\n                  className=\"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Filter Toggle */}\r\n            <button\r\n              onClick={() => setShowFilters(!showFilters)}\r\n              className=\"lg:hidden flex items-center justify-center px-4 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors\"\r\n            >\r\n              <FunnelIcon className=\"w-5 h-5 mr-2\" />\r\n              Filters\r\n            </button>\r\n\r\n            {/* Sort Dropdown */}\r\n            <select\r\n              value={sortBy}\r\n              onChange={(e) => setSortBy(e.target.value)}\r\n              className=\"px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n            >\r\n              <option value=\"newest\">Newest First</option>\r\n              <option value=\"price-low\">Price: Low to High</option>\r\n              <option value=\"price-high\">Price: High to Low</option>\r\n              <option value=\"rating\">Highest Rated</option>\r\n              <option value=\"popularity\">Most Popular</option>\r\n            </select>\r\n          </div>\r\n\r\n          {/* Filters Panel */}\r\n          <AnimatePresence>\r\n            {showFilters && (\r\n              <motion.div\r\n                initial={{ opacity: 0, height: 0 }}\r\n                animate={{ opacity: 1, height: 'auto' }}\r\n                exit={{ opacity: 0, height: 0 }}\r\n                transition={{ duration: 0.3 }}\r\n                className=\"mt-6 pt-6 border-t border-gray-200\"\r\n              >\r\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n                  {/* Category Filter */}\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                      Category\r\n                    </label>\r\n                    <select\r\n                      value={selectedCategory}\r\n                      onChange={(e) => setSelectedCategory(e.target.value)}\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                    >\r\n                      {categories.map((category) => (\r\n                        <option key={category} value={category}>\r\n                          {category}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n\r\n                  {/* Domain Filter */}\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                      Domain\r\n                    </label>\r\n                    <select\r\n                      value={selectedDomain}\r\n                      onChange={(e) => setSelectedDomain(e.target.value)}\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                    >\r\n                      {domains.map((domain) => (\r\n                        <option key={domain} value={domain}>\r\n                          {domain}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n\r\n                  {/* Price Range Filter */}\r\n                  <div>\r\n                                         <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                       Price Range: {priceRange[0]} - {priceRange[1]}\r\n                     </label>\r\n                     <div className=\"flex gap-2\">\r\n                       <input\r\n                         type=\"range\"\r\n                         min=\"0\"\r\n                         max=\"100000\"\r\n                         step=\"1000\"\r\n                         value={priceRange[0]}\r\n                         onChange={(e) => setPriceRange([parseInt(e.target.value), priceRange[1]])}\r\n                         className=\"flex-1\"\r\n                       />\r\n                       <input\r\n                         type=\"range\"\r\n                         min=\"0\"\r\n                         max=\"100000\"\r\n                         step=\"1000\"\r\n                         value={priceRange[1]}\r\n                         onChange={(e) => setPriceRange([priceRange[0], parseInt(e.target.value)])}\r\n                         className=\"flex-1\"\r\n                       />\r\n                     </div>\r\n                  </div>\r\n                </div>\r\n              </motion.div>\r\n            )}\r\n          </AnimatePresence>\r\n        </div>\r\n\r\n        {/* Results Count */}\r\n        <div className=\"flex justify-between items-center mb-6\">\r\n          <p className=\"text-gray-600\">\r\n            Showing {filteredProjects.length} of {projects.length} projects\r\n          </p>\r\n          <button\r\n            onClick={() => setShowFilters(!showFilters)}\r\n            className=\"hidden lg:flex items-center text-gray-600 hover:text-primary-600 transition-colors\"\r\n          >\r\n            <AdjustmentsHorizontalIcon className=\"w-5 h-5 mr-2\" />\r\n            {showFilters ? 'Hide' : 'Show'} Filters\r\n          </button>\r\n        </div>\r\n\r\n        {/* Projects Grid */}\r\n        {filteredProjects.length === 0 ? (\r\n          <div className=\"text-center py-12\">\r\n            <div className=\"w-24 h-24 mx-auto mb-4 text-gray-300\">\r\n              <MagnifyingGlassIcon className=\"w-full h-full\" />\r\n            </div>\r\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No projects found</h3>\r\n            <p className=\"text-gray-600\">Try adjusting your search criteria or filters.</p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n            {filteredProjects.map((project, index) => (\r\n              <motion.div\r\n                key={project._id}\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ duration: 0.3, delay: index * 0.1 }}\r\n                className=\"bg-white rounded-lg shadow-soft overflow-hidden hover:shadow-large transition-shadow duration-300\"\r\n              >\r\n                {/* Project Image */}\r\n                <div className=\"relative h-48 bg-gray-200\">\r\n                  {(() => {\r\n                    // Debug: Log project data\r\n                    console.log('Project:', project.title, 'Files:', project.files);\r\n                    \r\n                    // Check for uploaded image files first\r\n                    const imageFiles = project.files?.filter((file: any) => \r\n                      file.mimetype?.startsWith('image/') || \r\n                      file.originalname?.match(/\\.(jpg|jpeg|png|gif|webp)$/i)\r\n                    );\r\n                    \r\n                    console.log('Image files found:', imageFiles);\r\n                    \r\n                    if (imageFiles && imageFiles.length > 0) {\r\n                      return (\r\n                        <img\r\n                          src={`http://localhost:5001/api/projects/files/${imageFiles[0].filename}`}\r\n                          alt={project.title}\r\n                          className=\"w-full h-full object-cover\"\r\n                          onError={(e) => {\r\n                            // Fallback to placeholder if image fails to load\r\n                            e.currentTarget.style.display = 'none';\r\n                            e.currentTarget.nextElementSibling?.classList.remove('hidden');\r\n                          }}\r\n                        />\r\n                      );\r\n                    } else if (project.images && project.images.length > 0) {\r\n                      return (\r\n                        <img\r\n                          src={project.images[0]}\r\n                          alt={project.title}\r\n                          className=\"w-full h-full object-cover\"\r\n                        />\r\n                      );\r\n                                         } else {\r\n                       return (\r\n                         <div className=\"w-full h-full flex flex-col items-center justify-center text-gray-400 bg-gradient-to-br from-gray-100 to-gray-200\">\r\n                           <svg className=\"w-16 h-16 mb-2 text-gray-300\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                             <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1} d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" />\r\n                           </svg>\r\n                           <span className=\"text-sm font-medium\">No Image</span>\r\n                           <span className=\"text-xs text-gray-400\">Upload an image</span>\r\n                         </div>\r\n                       );\r\n                     }\r\n                  })()}\r\n                                     {/* Fallback placeholder (hidden by default) */}\r\n                   <div className=\"w-full h-full flex flex-col items-center justify-center text-gray-400 bg-gradient-to-br from-gray-100 to-gray-200 hidden\">\r\n                     <svg className=\"w-16 h-16 mb-2 text-gray-300\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                       <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1} d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" />\r\n                     </svg>\r\n                     <span className=\"text-sm font-medium\">No Image</span>\r\n                     <span className=\"text-xs text-gray-400\">Upload an image</span>\r\n                   </div>\r\n                  {project.discount && (\r\n                    <div className=\"absolute top-2 left-2 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded\">\r\n                      -{project.discount}%\r\n                    </div>\r\n                  )}\r\n                  <button className=\"absolute top-2 right-2 p-2 bg-white rounded-full shadow-md hover:bg-gray-50 transition-colors\">\r\n                    <HeartIcon className=\"w-5 h-5 text-gray-600\" />\r\n                  </button>\r\n                </div>\r\n\r\n                {/* Project Content */}\r\n                <div className=\"p-6\">\r\n                  {/* Category and Domain */}\r\n                  <div className=\"flex items-center justify-between mb-3\">\r\n                    <span className=\"text-xs font-medium text-primary-600 bg-primary-50 px-2 py-1 rounded\">\r\n                      {typeof project.category === 'object' ? project.category.name : project.category || 'General'}\r\n                    </span>\r\n                    <span className=\"text-xs text-gray-500\">{project.domain || 'Not specified'}</span>\r\n                  </div>\r\n\r\n                  {/* Title */}\r\n                  <h3 className=\"text-lg font-semibold text-gray-900 mb-2 line-clamp-2\">\r\n                    {project.title}\r\n                  </h3>\r\n\r\n                  {/* Description */}\r\n                  <p className=\"text-gray-600 text-sm mb-4 line-clamp-2\">\r\n                    {project.shortDescription || project.description.substring(0, 100) + '...'}\r\n                  </p>\r\n\r\n                                     {/* Rating and Stats */}\r\n                   <div className=\"flex items-center justify-between mb-4\">\r\n                     <div className=\"flex items-center\">\r\n                       <div className=\"flex mr-2\">\r\n                         {renderStars(typeof project.rating === 'object' ? project.rating.average || 4.5 : project.rating || 4.5)}\r\n                       </div>\r\n                       <span className=\"text-sm text-gray-600\">\r\n                         {typeof project.rating === 'object' ? project.rating.average || 4.5 : project.rating || 4.5} ({typeof project.rating === 'object' ? project.rating.count || 0 : project.reviewCount || 0})\r\n                       </span>\r\n                     </div>\r\n                     <div className=\"flex items-center text-sm text-gray-500\">\r\n                       <EyeIcon className=\"w-4 h-4 mr-1\" />\r\n                       {project.views || 0}\r\n                     </div>\r\n                   </div>\r\n\r\n                  {/* Price */}\r\n                  <div className=\"flex items-center justify-between mb-4\">\r\n                    <div>\r\n                      <span className=\"text-2xl font-bold text-gray-900\">\r\n                        {formatPrice(project.price)}\r\n                      </span>\r\n                      {project.originalPrice && project.originalPrice > project.price && (\r\n                        <span className=\"text-sm text-gray-500 line-through ml-2\">\r\n                          {formatPrice(project.originalPrice)}\r\n                        </span>\r\n                      )}\r\n                    </div>\r\n                    <span className=\"text-sm text-gray-500\">\r\n                      {project.orders || 0} orders\r\n                    </span>\r\n                  </div>\r\n\r\n                  {/* Action Buttons */}\r\n                  <div className=\"flex gap-2\">\r\n                    <button\r\n                      onClick={() => handleAddToCart(project)}\r\n                      disabled={isInCart(project._id)}\r\n                      className={`flex-1 flex items-center justify-center px-4 py-2 rounded-lg font-medium transition-colors ${\r\n                        isInCart(project._id)\r\n                          ? 'bg-green-100 text-green-700 cursor-not-allowed'\r\n                          : 'bg-primary-600 hover:bg-primary-700 text-white'\r\n                      }`}\r\n                    >\r\n                      <ShoppingCartIcon className=\"w-4 h-4 mr-2\" />\r\n                      {isInCart(project._id) ? 'In Cart' : 'Add to Cart'}\r\n                    </button>\r\n                                         <button \r\n                       onClick={() => navigate(`/projects/${project._id}`)}\r\n                       className=\"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors\"\r\n                     >\r\n                       View Details\r\n                     </button>\r\n                  </div>\r\n                </div>\r\n              </motion.div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProjectsPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}